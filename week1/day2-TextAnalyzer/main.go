// ğŸ¯ ã‚´ãƒ¼ãƒ«
// æ¨™æº–å…¥åŠ›ã‚„ãƒ•ãƒ©ã‚°ã§å—ã‘å–ã£ãŸãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã€ä»¥ä¸‹ã‚’è§£æã—ã¦å‡ºåŠ›ã™ã‚‹CLIãƒ„ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ï¼š

// æ–‡å­—æ•°ï¼ˆå…¨è§’å«ã‚€ï¼‰

// å˜èªæ•°ï¼ˆç©ºç™½åŒºåˆ‡ã‚Šï¼‰

// è¡Œæ•°ï¼ˆæ”¹è¡ŒåŒºåˆ‡ã‚Šï¼‰

// Laravelã§ã„ã†ã¨ã€Œãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®å‰å‡¦ç†ã€ã‚„ã€Œãƒ­ã‚°æ•´å½¢ã€ã¿ãŸã„ãªãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã«è¿‘ã„å‡¦ç†ã§ã™ã€‚

package main

import (
	"bufio" // Bufferd I/O ãƒãƒƒãƒ•ã‚¡ï¼ˆä¸€æ™‚çš„ãªãƒ¡ãƒ¢ãƒªé ˜åŸŸï¼‰ã‚’ä½¿ã£ã¦åŠ¹ç‡çš„ã«å…¥å‡ºåŠ›ã‚’ä½¿ã†
			// å°ã•ãªèª­ã¿æ›¸ãã‚’ä½•åº¦ã‚‚ç¹°ã‚Šè¿”ã™ä»£ã‚ã‚Šã«ã€ã¾ã¨ã‚ã¦å‡¦ç†
	"flag"
	"fmt"
	"os"
	"strings"
)

func main() {
	// ãƒ•ãƒ©ã‚°å®šç¾©ï¼š--text="è§£æã™ã‚‹æ–‡å­—åˆ—"
	input := flag.String("text", "", "è§£æã™ã‚‹æ–‡å­—åˆ—")
	flag.Parse()

	var text string

	if *input != "" {
		text = *input
	} else {
		// æ¨™æº–å…¥åŠ›ã‹ã‚‰èª­ã¿è¾¼ã¿
		fmt.Println("è§£æã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆCtrl+Dã§çµ‚äº†ï¼‰:")
		scanner := bufio.NewScanner(os.Stdin)
		var lines []string
		// æ¨™æº–å…¥åŠ›ç©ºæ‰‹ã‚­ã‚¹ã‚’ã¨èª­ã¿è¾¼ã¿
		for scanner.Scan() {
			// ï¼‘è¡Œãšã¤èª­ã¿è¾¼ã¿ã€å¤‰æ•°ã«è¿½åŠ ã—ã¦ã„ã
			lines = append(lines, scanner.Text())

			// Ctrl+Dï¼ˆEOFï¼‰ãŒæŠ¼ã•ã‚Œã‚‹ã¨ãƒ«ãƒ¼ãƒ—ãŒçµ‚äº†
		}

		// linesã®\nã”ã¨ã«ã‚¹ãƒ©ã‚¤ã‚¹ã—ã¦æœ€å¾Œã«é–‹æ¥­æ–‡å­—åˆ—ã§çµåˆ
		text = strings.Join(lines, "\n")
	}

	// æ–‡å­—æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
	// runeã‚’ä½¿ã†ã“ã¨ã§int32å‹ã®æ–‡å­—æ•°ã‚’è¿”ã™
	// ä¾‹ï¼šs := "Helloä¸–ç•Œ"
	// fmt.Println(len(s))           // 11ãƒã‚¤ãƒˆ
	// fmt.Println(len([]rune(s)))   // 7æ–‡å­—
	charCount := len([]rune(text)) // Unicodeå¯¾å¿œ
	// ç©ºç™½åŒºåˆ‡ã‚Šã®å˜èªã‚’ã‚«ã‚¦ãƒ³ãƒˆ
	wordCount := len(strings.Fields(text))
	// æ”¹è¡ŒåŒºåˆ‡ã‚Šã®è¡Œæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
	lineCount := len(strings.Split(text, "\n"))

	fmt.Println("è§£æçµæœ:")
	fmt.Printf("æ–‡å­—æ•°: %d\n", charCount)
	fmt.Printf("å˜èªæ•°: %d\n", wordCount)
	fmt.Printf("è¡Œæ•°: %d\n", lineCount)
}